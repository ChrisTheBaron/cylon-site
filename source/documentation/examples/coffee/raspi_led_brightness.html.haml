---
layout: documentation
page_title_show: true
title: Cylon.JS Example - Raspberry Pi - LED Brightness
page_title: "Example: Raspberry Pi - LED Brightness"
author: The Hybrid Group
description: A Cylon.JS code example
page_subtitle: "You can find more versions of this example <a href='https://github.com/hybridgroup/cylon/tree/master/examples/raspi_led_brightness' target='blank' class='repository'>here.</a>"
---

:markdown
  # Raspberry Pi - LED Brightness

  For this example, we'll be using an LED on a Raspberry Pi board, and modifying it's
  brightness to make it fade in and out. Before we start, make sure you've got the
  `cylon-raspi` module installed.

  Let's start by importing Cylon:

      :::coffeescript
      Cylon = require 'cylon'

  Once we've got that, we can start defining our robot:

      :::coffeescript
      Cylon.robot

  We'll be using a Raspberry Pi as our connection. As well, we'll let our robot
  know about the LED we'll be modifying, on pin #11 of the Raspberry Pi.

      :::coffeescript
        connection: { name: 'raspi', adaptor: 'raspi', port: '/dev/ttyACM0' }
        device: { name: 'led', driver: 'led', pin: 11 }

  Next up, we'll define our robot's work:

      :::coffeescript
        work: (my) ->

  We'll set some variables here: brightness will represent the LED's brightness,
  from 1-255, and 'fade' will be the brightness change on each tick.

      :::coffeescript
          brightness = 0
          fade = 5

  Every 50 milliseconds, we'll be incrementing the brightness by `fade`'s value,
  setting the LED to that brightness, and reversing `fade`'s value if brightness
  hits 0 or 255.

      :::coffeescript
          every 0.05.seconds(), ->
            brightness += fade
            my.led.brightness(brightness)
            fade = -fade if (brightness is 0) or (brightness is 255)

  And with that done, we can now start our robot.

      :::coffeescript
      .start()

