---
layout: documentation
page_title_show: true
title: Cylon.JS Example - BlinkM
page_title: "Example: BlinkM"
author: The Hybrid Group
description: A Cylon.JS code example
page_subtitle: "You can find more versions of this example <a href='https://github.com/hybridgroup/cylon/tree/master/examples/blinkm' target='blank' class='repository'>here.</a>"
---

:markdown
  # BlinkM

  For this example, we're going to use the `cylon-firmata` module to blink a light
  using BlinkM.

  Before we start, make sure you've got the `cylon-firmata` module installed.

  First, let's import Cylon:

      :::coffeescript
      Cylon = require 'cylon'

  With Cylon imported, we can start defining our robot.

      :::coffeescript
      Cylon.robot

  Our robot will be using an Arduino, and communicating over the Firmata protocol:

      :::coffeescript
        connection: { name: 'arduino', adaptor: 'firmata', port: '/dev/ttyACM0' }

  And we'll have one device, a BlinkM led.

      :::coffeescript
        device: { name: 'blinkm', driver: 'blinkm' }

  We'll now set up our robot's work.

      :::coffeescript
        work: (my) ->

  When the BlinkM sends the 'start' event, we'll set up our events

      :::coffeescript
          my.blinkm.on 'start', ->

  We'll request the BlinkM's version, and print that to the console:

      :::coffeescript
            my.blinkm.version (version) ->
              console.log "Started BlinkM version \#{version}"

  By default, we'll turn the LED off and assign a boolean that we'll use to
  determine if it's on or not:

      :::coffeescript
            my.blinkm.off()
            lit = false

  Now, every second, we'll toggle the LED, using the `lit` variable to determine
  which state we need to transition the BlinkM to:

      :::coffeescript
            every 1.second(), ->
              if lit
                lit = false
                console.log 'on'
                my.blinkm.rgb 0xaa, 0, 0
              else
                lit = true
                console.log 'off'
                my.blinkm.rgb 0, 0, 0

  Now that our robot knows what to do, let's get started:

      :::coffeescript
      .start()

